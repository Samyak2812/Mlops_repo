schema: '2.0'
stages:
  data_prep:
    cmd: python src/data_prep.py
    deps:
    - path: data/raw/incidents.csv
      hash: md5
      md5: 55e99385f9a9daedc9013f53f2f5e371
      size: 121
    - path: src/data_prep.py
      hash: md5
      md5: dd2cdca741777d92ba83e4a0e2b57122
      size: 457
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: 72099899cff5e617c2ec04b8ca29061f
      size: 64
    - path: data/processed/train.csv
      hash: md5
      md5: f86cae2f57453040cf7989c3c0bf541c
      size: 108
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: f86cae2f57453040cf7989c3c0bf541c
      size: 108
    - path: src/train.py
      hash: md5
      md5: e7d11c7583914a291ddc3e1323391fe4
      size: 589
    outs:
    - path: models/risk_model.pkl
      hash: md5
      md5: 00fda71f1b056ad95a6224129425bdea
      size: 7149
  monitor:
    cmd: python src/monitor.py
    deps:
    - path: data/new_data/production_incidents.csv
      hash: md5
      md5: ee6be924ed78243ff768b8685811ef8d
      size: 124
    - path: models/risk_model.pkl
      hash: md5
      md5: 00fda71f1b056ad95a6224129425bdea
      size: 7149
    - path: src/monitor.py
      hash: md5
      md5: d48fd02e1467d3f514923c484f7e21c5
      size: 2028
    outs:
    - path: metrics/monitoring_report.csv
      hash: md5
      md5: fd6c5268e4fd1bffba76eccbe639d0c2
      size: 105
